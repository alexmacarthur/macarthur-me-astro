---
import type { Page } from 'astro';
import { POST_PAGE_PAGE } from '../../constants';
import PaginatedPosts from '../../layouts/PaginatedPosts.astro';
import cmsService from '../../lib/CMSService';
import type { BlogPost } from '../../types/types';

const page: Partial<Page<BlogPost>> = {
  data: (await cmsService.getAllPosts()).slice(0, POST_PAGE_PAGE),
  currentPage: 1,
  lastPage: await cmsService.getTotalPages(),
  url: {
    prev: undefined,
    next: '/posts/page/2',
  } as Page["url"]
};

---

<PaginatedPosts page={page} />
