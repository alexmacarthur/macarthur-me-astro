---
import { POSTS_PER_PAGE } from '../../../lib/constants';
import PaginatedPosts from '../../../layouts/PaginatedPosts.astro';
import cmsService from '../../../lib/CMSService';

export async function getStaticPaths({ paginate }) {
  const posts = await cmsService.getAllPosts();

  return paginate(posts, { pageSize: POSTS_PER_PAGE });
};

const { page } = Astro.props;
---

<PaginatedPosts page={page} />
