---
import SearchInputTrigger from "./SearchInputTrigger.astro";
import TaxationIsTheft from "./TaxationIsTheft.astro";

interface Link {
  name: string;
  href: string;
}

const socialLinks: Array<Link> = [
  {
    name: "GitHub",
    href: "https://github.com/alexmacarthur",
  },
  {
    name: "LinkedIn",
    href: "https://www.linkedin.com/in/alexmacarthur/",
  },
  {
    name: "X (Twitter)",
    href: "https://x.com/amacarthur",
  },
];

const otherLinks: Array<Link> = [
  {
    name: "Scraps",
    href: "/scraps",
  },
  {
    name: "Maxims",
    href: "/maxims",
  },
  {
    name: "Site Stack",
    href: "/stack",
  },
  {
    name: "RSS Feed",
    href: "https://www.macarthur.me/rss/feed.xml",
  },
  {
    name: "Newsletter",
    href: "/newsletter",
  },
  {
    name: "My Policy on AI",
    href: "/ai",
  },
];

const productLinks: Array<Link> = [
  {
    name: "TypeIt",
    href: "https://typeitjs.com",
  },
  {
    name: "PicPerf",
    href: "https://picperf.io",
  },
  {
    name: "JamComments",
    href: "https://jamcomments.com",
  },
  {
    name: "Plausible Bootstrapper",
    href: "https://plausiblebootstrapper.com",
  },
  {
    name: "Copy the Perfect Em Dash",
    href: "https://macarthur.me/emdash",
  },
];

const toolLinks: Array<Link> = [
  {
    name: "HTTP Request Breakdown",
    href: "https://picperf.io/request/breakdown",
  },
  {
    name: "Headlights",
    href: "https://www.macarthur.me/headlights",
  },
  {
    name: "Share a Color",
    href: "https://www.macarthur.me/color",
  },
  {
    name: "slide-element",
    href: "https://macarthur.me/slide-element",
  },
];

const linkSections = [
  {
    name: "Social",
    links: socialLinks,
  },
  {
    name: "Products",
    links: productLinks,
  },
  {
    name: "Tools",
    links: toolLinks,
  },
  {
    name: "Other",
    links: otherLinks,
  },
];
---

<footer
  class="px-4 md:px-6 py-8 pb-0 mt-12 flex flex-col justify-center items-center"
>
  <hr class="bg-gray-200 h-px w-full max-w-5xl mb-8" />

  <div
    class="flex gap-6 flex-col-reverse md:flex-row justify-between w-full max-w-5xl mx-auto"
  >
    <div class="hidden sm:block">
      <SearchInputTrigger />
    </div>

    <div
      class="mb-4 grid grid-cols-2 md:flex justify-between sm:justify-center md:justify-end gap-8 sm:gap-14 w-full"
    >
      {
        linkSections.map((section) => {
          return (
            <div>
              <span class="block mb-3 text-gray-500 font-medium text-sm slanted-text">
                {section.name}
              </span>

              <ul class="flex flex-col gap-3">
                {section.links.map((link) => {
                  const target =
                    link.href.includes("macarthur.me") ||
                    link.href.startsWith("/")
                      ? "_self"
                      : "_blank";

                  return (
                    <li class="social-link">
                      <a
                        href={link.href}
                        target={target}
                        class="fancy-link-on-hover"
                      >
                        {link.name}
                      </a>
                    </li>
                  );
                })}
              </ul>
            </div>
          );
        })
      }
    </div>
  </div>

  <aside
    class="self-stretch [&_path]:fill-gray-700 [&_svg]:w-full [&_svg]:h-full mt-20 lg:mt-30"
  >
    <div
      class="max-w-6xl [&_svg]:translate-y-[.15ch] lg:[&_svg]:translate-y-[.20ch] overflow-hidden"
    >
      <TaxationIsTheft stacked={false} classes="hidden lg:block" />
      <TaxationIsTheft stacked={true} classes="lg:hidden w-2/3!" />
    </div>
  </aside>
</footer>

<style>
  ul li,
  ul li a {
    font-size: var(--text-sm);
    color: var(--color-gray-500);
  }
</style>
