---
import Title from "../components/Title.astro";
import Layout from "./Layout.astro";
import PostList from "../components/PostList.astro";
import Pagination from "../components/Pagination.astro";
import type { PaginatedList } from "../types/types";
import SearchInputTrigger from "../components/SearchInputTrigger.astro";
import TitleBar from "../components/TitleBar.astro";

export interface Props {
  page: PaginatedList;
}

const { page } = Astro.props;
---

<Layout title="Posts" pageType="narrow" shouldIndexForSearch={false}>

  <TitleBar title="Posts">
    <SearchInputTrigger />
  </TitleBar>

  <PostList posts={page.data} />

  <Pagination
    totalPages={page.lastPage as number}
    currentPage={page.currentPage as number}
    nextUrl={(page.url).next}
    prevUrl={(page.url).prev}
  />
</Layout>
